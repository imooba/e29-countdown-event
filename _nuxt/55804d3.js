(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{218:function(e,t,n){"use strict";n.r(t),t.default=function(){return{authUser:null}}},223:function(e,t,n){"use strict";n(11),n(4),n(43);var r=n(1),o=n(183),c=n.n(o),l=n(311),d=n.n(l);c.a.extend(d.a),t.a=function(){r.a.filter("phone_number",(function(e){return e?(e=String(e)).slice(0,2)+"-"+e.slice(2,6)+"-"+e.slice(6):"-"})),r.a.filter("time_ago",(function(e){if(!e)return"-";var t=c()(e);return t.isValid()?t.fromNow(!0):"-"}))}},314:function(e,t,n){"use strict";var r=n(489),o=n(495),c=n(491),l=n(481),d=n(214),m=n(212),f=n(138),h=n(57),v=n(213),_=n(120),x=n(493),k=n(490),S=n(492),y=n(482),w=n(309),E=(n(295),{name:"AdminLayout",data:function(){return{drawer:!1,mini:!1,menuGroup:null,menus:[{key:"menu-subheader-admin",subheader:"Admin"},{key:"menu-control",text:"Control",link:"/admin/control",icon:"mdi-gamepad-variant-outline"},{key:"menu-registrants",text:"Random Data",link:"/admin/candidates",icon:"mdi-table-account"},{key:"menu-settings-stages-main",text:"Settings Random Screen",link:"/admin/settings/stages/main",icon:"mdi-numeric-1-box-outline"},{key:"menu-settings-stages-second",text:"Settings MC Screen",link:"/admin/settings/stages/second",icon:"mdi-numeric-2-box-outline"},{key:"menu-settings-stages-screen",text:"Settings Main Screen",link:"/admin/settings/stages/screen",icon:"mdi-numeric-3-box-outline"},{key:"menu-settings-stages-main",text:"Settings Random Screen",link:"/admin/settings/stages/mcscreen2",icon:"mdi-numeric-4-box-outline"},{key:"menu-divider-1",divider:!0},{key:"menu-subheader-screen",subheader:"Stage Screen"},{key:"menu-state-main",text:"Random Screen",link:"/stages/main",icon:"mdi-home-floor-1"},{key:"menu-state-second",text:"MC Screen",link:"/stages/second",icon:"mdi-home-floor-2"},{key:"menu-state-screen",text:"Main Screen",link:"/stages/screen",icon:"mdi-home-floor-3"},{key:"menu-state-main",text:"Random Screen",link:"/stages/mcscreen2",icon:"mdi-home-floor-4"}]}}}),O=n(63),component=Object(O.a)(E,(function(){var e=this,t=e._self._c;return t(r.a,{attrs:{light:""}},[t(k.a,{attrs:{value:!0,"mini-variant":e.mini,app:"",clipped:""}},[t(m.a,{attrs:{dense:"",flat:"",nav:""}},[t(v.a,{attrs:{color:"indigo"},model:{value:e.menuGroup,callback:function(t){e.menuGroup=t},expression:"menuGroup"}},[e._l(e.menus,(function(n){return[n.divider?t(l.a,{key:n.key}):n.subheader?t(y.a,{directives:[{name:"show",rawName:"v-show",value:!e.mini,expression:"!mini"}],key:n.key},[e._v("\n            "+e._s(n.subheader)+"\n          ")]):t(f.a,{key:n.key,attrs:{to:n.link,link:"",nuxt:""}},[t(_.a,[t(d.a,[e._v(e._s(n.icon))])],1),e._v(" "),t(h.a,[t(h.c,{staticClass:"font-weight-regular"},[e._v(e._s(n.text))])],1)],1)]}))],2)],1)],1),e._v(" "),t(o.a,{attrs:{color:"primary","clipped-left":"","clipped-right":"",dark:"",app:""}},[t(c.a,{on:{click:function(t){e.mini=!e.mini}}}),e._v(" "),t(w.a,[e._v("Admin")]),e._v(" "),t(S.a),e._v(" "),t("user-profile")],1),e._v(" "),t(x.a,{staticStyle:{"background-color":"#fafafa"}},[t("Nuxt")],1)],1)}),[],!1,null,null,null);t.a=component.exports;installComponents(component,{UserProfile:n(475).default})},315:function(e,t,n){"use strict";var r=n(489),o=n(493),c={name:"EmptyLayout"},l=n(63),component=Object(l.a)(c,(function(){var e=this._self._c;return e(r.a,{attrs:{light:""}},[e(o.a,{staticStyle:{"background-color":"#fdfdfd"}},[e("Nuxt")],1)],1)}),[],!1,null,null,null);t.a=component.exports},316:function(e,t,n){"use strict";var r=n(489),o=n(493),c={name:"EmptyLayout"},l=n(63),component=Object(l.a)(c,(function(){var e=this._self._c;return e(r.a,{attrs:{light:""}},[e(o.a,[e("Nuxt")],1)],1)}),[],!1,null,null,null);t.a=component.exports},338:function(e,t,n){n(339),e.exports=n(340)},376:function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=e.store,n=e.redirect;if(!t.getters.isLoggedIn)return n("/login")}},452:function(e,t,n){"use strict";n.r(t),t.default={onAuthStateChanged:function(e,t){var n=e.commit;t?n("SET_AUTH_USER",t):n("RESET_STORE")}}},453:function(e,t,n){"use strict";n.r(t);var r=n(93),o=n(15),c=(n(51),["allClaims"]);t.default={nuxtServerInit:function(e,t){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var l,d,m,f;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(l=e.dispatch,null!==n.$fire.auth){o.next=3;break}throw"nuxtServerInit Example not working - this.$fire.auth cannot be accessed.";case 3:if(null!==t.$fire.auth){o.next=5;break}throw"nuxtServerInit Example not working - ctx.$fire.auth cannot be accessed.";case 5:if(null!==t.app.$fire.auth){o.next=7;break}throw"nuxtServerInit Example not working - ctx.$fire.auth cannot be accessed.";case 7:if(!(t.res&&t.res.locals&&t.res.locals.user)){o.next=12;break}return d=t.res.locals.user,m=d.allClaims,f=Object(r.a)(d,c),console.info("Auth User verified on server-side. User: ",f,"Claims:",m),o.next=12,l("onAuthStateChanged",{authUser:f,claims:m});case 12:case"end":return o.stop()}}),o)})))()},onAuthStateChanged:function(e,t){var n=e.commit,r=t.authUser;t.claims;r?(console.log("AuthStateChangedAction",r),n("SET_AUTH_USER",r)):n("RESET_STORE")}}},454:function(e,t,n){"use strict";n.r(t),t.default={isLoggedIn:function(e){try{return null!==e.authUser.uid}catch(e){return!1}}}},455:function(e,t,n){"use strict";n.r(t);var r=n(218);t.default={RESET_STORE:function(e){Object.assign(e,Object(r.default)())},SET_AUTH_USER:function(e,t){e.authUser={uid:t.uid,email:t.email}},ON_AUTH_STATE_CHANGED_MUTATION:function(e,t){var n=t.authUser,r=(t.claims,n||{}),o=r.uid,c=r.email;e.authUser={uid:o,email:c}}}},475:function(e,t,n){"use strict";n.r(t);var r=n(216),o=n(214),c=n(212),l=n(138),d=n(120),m=n(57),f=n(483),h=(n(28),n(15)),v=(n(51),n(27),n(65),{name:"UserProfile",computed:{profile:function(){return this.$store.state.authUser||{}},name:function(){return(this.profile.email||"").replace(/@.*$/,"")}},methods:{handleOnSignOut:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fire.auth.signOut();case 2:e.$router.replace("/login");case 3:case"end":return t.stop()}}),t)})))()}}}),_=n(63),component=Object(_.a)(v,(function(){var e=this,t=e._self._c;return t(f.a,{attrs:{"nudge-bottom":16,"nudge-width":140,"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(n){var c=n.attrs,l=n.on;return[t("div",e._g(e._b({staticClass:"d-flex justify-center align-center"},"div",c,!1),l),[t(r.a,{attrs:{color:"white",size:"32"}},[t(o.a,{attrs:{light:""}},[e._v("mdi-account-outline")])],1),e._v(" "),t("span",{staticClass:"pl-3"},[e._v(e._s(e.name))])],1)]}}])},[e._v(" "),t(c.a,{attrs:{dense:""}},[t(l.a,{on:{click:e.handleOnSignOut}},[t(d.a,[t(o.a,[e._v("mdi-logout")])],1),e._v(" "),t(m.c,[e._v("Sign Out")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},89:function(e,t,n){"use strict";var r=n(496),o=n(488),c={name:"ErrorLayout",layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{statusMessages:{401:{title:"Unauthorized",message:"จำเป็นต้องลงชื่อเพื่อเข้าใช้งานก่อน หากมีข้อสงสัยติดต่อผู้ดูแลระบบ"},403:{title:"Access Denied",message:"คุณไม่สามารถเข้าถึงทรัพยากรได้ หากมีข้อสงสัยติดต่อผู้ดูแลระบบ"},404:{title:"404 Not Found",message:"ขอโทษด้วยนะ เราไม่พบหน้าที่คุณต้องการ"},415:{title:"Unsupported Media Type",message:"ไม่รองรับการทำงานบนอุปกรณ์หรือเว็บเบราว์เซอร์"},500:{title:"An error occurred",message:"เรากำลังปรับปรุงเพื่อสิ่งที่ดีกว่า และเราจะกลับมาในไม่ช้า"},503:{title:"An error occurred",message:"เรากำลังปรับปรุงเพื่อสิ่งที่ดีกว่า และเราจะกลับมาในไม่ช้า"}}}},head:function(){return{title:this.title}},computed:{status:function(){return this.error.statusCode in this.statusMessages?this.error.statusCode:500},message:function(){return this.statusMessages[this.status].message},title:function(){return this.statusMessages[this.status].title}},mounted:function(){window.onbeforeunload=null}},l=n(63),component=Object(l.a)(c,(function(){var e=this,t=e._self._c;return t(r.a,{attrs:{"fill-height":""}},[t(o.a,{attrs:{align:"center",justify:"center","fill-height":""}},[t("div",{staticClass:"d-inline"},[t("div",{staticClass:"text-h1 font-weight-bold text-center grey--text text--lighten-2"},[e._v("\n        "+e._s(e.status)+"\n      ")]),e._v(" "),t("div",{staticClass:"text-center pt-3 font-weight-light"},[e._v("\n        "+e._s(e.message)+"\n      ")])])])],1)}),[],!1,null,null,null);t.a=component.exports}},[[338,33,8,34]]]);